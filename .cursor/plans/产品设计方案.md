# 产品设计方案

**负责人**: Emma  
**协作者**: Bob, Lily  
**创建时间**: 2025-01-13  
**状态**: 进行中

## 1. 设计概述

### 1.1 设计目标

- 提供直观、高效的多语言药品标签编辑体验
- 确保界面美观且功能完善
- 保持整体视觉一致性
- 遵循用户习惯，设计直观易用的交互流程

### 1.2 设计原则

- **现代化**: 采用现代 UI 框架，确保界面美观
- **一致性**: 保持整体视觉一致性
- **易用性**: 设计直观易用的交互流程
- **响应式**: 适配不同设备屏幕尺寸
- **可访问性**: 确保不同用户群体都能顺畅使用

## 2. 页面布局设计

### 2.1 整体布局结构

```
┌─────────────────────────────────────────────────────────────┐
│                        Header                               │
│  [Logo] 专业药品标签生成器              [Settings] [User]   │
├─────────────────────────────────────────────────────────────┤
│  Sidebar          │              Main Content              │
│  ┌─────────────┐  │  ┌─────────────────────────────────────┐ │
│  │ 项目管理    │  │  │                                     │ │
│  │ ┌─────────┐ │  │  │           标签编辑器                │ │
│  │ │ 搜索框  │ │  │  │                                     │ │
│  │ └─────────┘ │  │  │  [语言选择] [序号选择]              │ │
│  │             │  │  │                                     │ │
│  │ 项目列表:   │  │  │  ┌─────────────────────────────────┐ │ │
│  │ • 阿司匹林  │  │  │  │                                 │ │ │
│  │ • 布洛芬    │  │  │  │        文本编辑区域              │ │ │
│  │ • 对乙酰... │  │  │  │                                 │ │ │
│  │             │  │  │  │                                 │ │ │
│  │ [+ 新建项目]│  │  │  └─────────────────────────────────┘ │ │
│  └─────────────┘  │  │                                     │ │
│                   │  │  [字体设置] [间距设置] [行高设置]    │ │
│                   │  └─────────────────────────────────────┘ │
│                   │  ┌─────────────────────────────────────┐ │
│                   │  │                                     │ │
│                   │  │           标签预览                  │ │
│                   │  │                                     │ │
│                   │  │  [页面尺寸] [边距设置]              │ │
│                   │  │                                     │ │
│                   │  │  ┌─────────────────────────────────┐ │ │
│                   │  │  │                                 │ │ │
│                   │  │  │        PDF 预览区域              │ │ │
│                   │  │  │                                 │ │ │
│                   │  │  └─────────────────────────────────┘ │ │
│                   │  │                                     │ │
│                   │  │  [保存项目] [导出PDF]               │ │
│                   │  └─────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 三大核心区域

#### 2.2.1 项目管理区域（左侧边栏）

- **位置**: 左侧，宽度 25%
- **功能**: 项目列表、搜索、新建项目
- **组件**: ProjectList.tsx

#### 2.2.2 标签编辑器区域（右上）

- **位置**: 右上，宽度 50%，高度 50%
- **功能**: 文本编辑、参数调整
- **组件**: LabelEditor.tsx

#### 2.2.3 PDF 预览区域（右下）

- **位置**: 右下，宽度 50%，高度 50%
- **功能**: 实时预览、PDF 导出
- **组件**: PDFPreview.tsx

## 3. 交互流程设计

### 3.1 主要用户流程

#### 3.1.1 新建标签流程

```
开始 → 点击"新建项目" → 输入项目名称 → 选择语言 → 选择序号 →
编辑内容 → 调整参数 → 实时预览 → 保存项目 → 导出PDF → 结束
```

#### 3.1.2 编辑现有标签流程

```
开始 → 选择项目 → 加载内容 → 修改内容 → 实时预览 →
保存修改 → 导出PDF → 结束
```

#### 3.1.3 批量处理流程

```
开始 → 上传多个文件 → 设置批量参数 → 批量处理 →
查看结果 → 批量导出 → 结束
```

### 3.2 交互细节设计

#### 3.2.1 实时预览机制

- **触发条件**: 任何内容或参数变更
- **响应时间**: < 500ms
- **预览范围**: 完整页面预览
- **更新方式**: 增量更新，避免闪烁

#### 3.2.2 参数调整交互

- **字体大小**: 数字输入框 + 滑块
- **间距设置**: 数字输入框 + 实时预览
- **行高调整**: 数字输入框 + 视觉反馈
- **页面序号**: 下拉选择器

## 4. UI 组件规范

### 4.1 设计系统基础

#### 4.1.1 技术栈

- **CSS 框架**: Tailwind CSS
- **组件库**: Radix UI
- **图标库**: Lucide React
- **字体**: 系统字体 + 自定义字体

#### 4.1.2 颜色规范

```css
/* 主色调 */
--primary: #07889b; /* 主蓝色 */
--secondary: #66b9bf; /* 次蓝色 */
--accent: #e9967a; /* 强调色 */

/* 中性色 */
--text: #2c3e50; /* 主文本 */
--subtext: #7f8c8d; /* 次要文本 */
--border: #bdc3c7; /* 边框色 */
--background: #ecf0f1; /* 背景色 */

/* 功能色 */
--success: #27ae60; /* 成功色 */
--warning: #f39c12; /* 警告色 */
--error: #e74c3c; /* 错误色 */
```

#### 4.1.3 字体规范

```css
/* 字体大小 */
--text-xs: 0.75rem; /* 12px */
--text-sm: 0.875rem; /* 14px */
--text-base: 1rem; /* 16px */
--text-lg: 1.125rem; /* 18px */
--text-xl: 1.25rem; /* 20px */
--text-2xl: 1.5rem; /* 24px */

/* 字体权重 */
--font-normal: 400;
--font-medium: 500;
--font-semibold: 600;
--font-bold: 700;
```

### 4.2 核心组件设计

#### 4.2.1 按钮组件

```typescript
// 主要按钮
<Button variant="primary" size="md">
  保存项目
</Button>

// 次要按钮
<Button variant="secondary" size="md">
  取消
</Button>

// 危险按钮
<Button variant="danger" size="md">
  删除
</Button>
```

#### 4.2.2 输入组件

```typescript
// 文本输入
<Input
  placeholder="请输入项目名称"
  value={projectName}
  onChange={handleChange}
/>

// 数字输入
<NumberInput
  value={fontSize}
  min={8}
  max={72}
  step={0.5}
  onChange={handleFontSizeChange}
/>

// 下拉选择
<Select
  value={selectedLanguage}
  onChange={handleLanguageChange}
>
  <Option value="CN">中文</Option>
  <Option value="EN">English</Option>
</Select>
```

#### 4.2.3 卡片组件

```typescript
<Card className="p-6 shadow-md">
  <CardHeader>
    <CardTitle>标签编辑器</CardTitle>
  </CardHeader>
  <CardContent>{/* 内容 */}</CardContent>
</Card>
```

### 4.3 布局组件

#### 4.3.1 网格布局

```typescript
// 两列布局
<div className="grid grid-cols-2 gap-8">
  <div>标签编辑器</div>
  <div>PDF预览</div>
</div>

// 三列布局
<div className="grid grid-cols-3 gap-4">
  <div>项目管理</div>
  <div>标签编辑器</div>
  <div>PDF预览</div>
</div>
```

#### 4.3.2 弹性布局

```typescript
// 垂直布局
<div className="flex flex-col space-y-4">
  <div>头部</div>
  <div className="flex-1">内容</div>
  <div>底部</div>
</div>

// 水平布局
<div className="flex items-center space-x-4">
  <div>标签</div>
  <div className="flex-1">输入框</div>
  <div>按钮</div>
</div>
```

## 5. 导航结构

### 5.1 主导航

- **首页**: 标签编辑主界面
- **项目管理**: 项目列表和管理
- **设置**: 系统设置和偏好
- **帮助**: 使用说明和文档

### 5.2 面包屑导航

```
首页 > 项目管理 > 阿司匹林标签 > 编辑
```

### 5.3 快捷操作

- **Ctrl+S**: 保存项目
- **Ctrl+E**: 导出 PDF
- **Ctrl+N**: 新建项目
- **Ctrl+F**: 搜索项目

## 6. 响应式设计

### 6.1 断点设置

```css
/* 移动设备 */
@media (max-width: 768px) {
  .layout {
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr;
  }
}

/* 平板设备 */
@media (min-width: 769px) and (max-width: 1024px) {
  .layout {
    grid-template-columns: 300px 1fr;
  }
}

/* 桌面设备 */
@media (min-width: 1025px) {
  .layout {
    grid-template-columns: 300px 1fr 1fr;
  }
}
```

### 6.2 移动端适配

- **侧边栏**: 折叠为抽屉式菜单
- **编辑器**: 全屏显示，支持手势操作
- **预览**: 可切换显示/隐藏
- **按钮**: 增大触摸区域

## 7. 可访问性设计

### 7.1 键盘导航

- 所有交互元素支持 Tab 键导航
- 提供键盘快捷键
- 焦点状态清晰可见

### 7.2 屏幕阅读器支持

- 添加适当的 ARIA 标签
- 提供有意义的 alt 文本
- 支持语义化 HTML 结构

### 7.3 颜色对比度

- 文本与背景对比度 > 4.5:1
- 重要信息不依赖颜色传达
- 支持高对比度模式

## 8. 微动效设计

### 8.1 过渡动画

```css
/* 平滑过渡 */
.transition {
  transition: all 0.2s ease-in-out;
}

/* 悬停效果 */
.hover-lift {
  transition: transform 0.2s ease;
}

.hover-lift:hover {
  transform: translateY(-2px);
}
```

### 8.2 加载动画

- **页面加载**: 骨架屏 + 渐入动画
- **数据加载**: 旋转加载器
- **操作反馈**: 按钮点击波纹效果

### 8.3 状态反馈

- **成功操作**: 绿色勾选动画
- **错误操作**: 红色警告动画
- **处理中**: 进度条动画

## 9. ASCII 码界面草图

### 9.1 主界面布局

```
┌─────────────────────────────────────────────────────────────┐
│ 🏥 专业药品标签生成器                    ⚙️ 设置  👤 用户   │
├─────────────────────────────────────────────────────────────┤
│ 📁 项目管理                    │  ✏️ 标签编辑器              │
│ ┌─────────────────────────┐   │  ┌─────────────────────────┐ │
│ │ 🔍 [搜索项目...]        │   │  │ 语言: [CN ▼] 序号: [1 ▼] │ │
│ └─────────────────────────┘   │  │                         │ │
│                               │  │ ┌─────────────────────┐ │ │
│ 📋 项目列表:                  │  │ │                     │ │ │
│ • 💊 阿司匹林                 │  │ │   药品信息编辑区      │ │ │
│ • 💊 布洛芬                   │  │ │                     │ │ │
│ • 💊 对乙酰氨基酚             │  │ │                     │ │ │
│                               │  │ └─────────────────────┘ │ │
│ [+ 新建项目]                  │  │                         │ │
│                               │  │ 字体: [STHeiti ▼] 大小: [10] │ │
│                               │  │ 间距: [1.0] 行高: [1.2]     │ │
└───────────────────────────────┴──┴─────────────────────────┘ │
│                    │  👁️ 标签预览                          │
│                    │  ┌─────────────────────────────────────┐ │
│                    │  │ 页面尺寸: [100.0 × 60.0] mm        │ │
│                    │  │ 边距: 上[2] 下[2] 左[2] 右[2] mm   │ │
│                    │  │                                     │ │
│                    │  │ ┌─────────────────────────────────┐ │ │
│                    │  │ │                                 │ │ │
│                    │  │ │        PDF 预览区域              │ │ │
│                    │  │ │                                 │ │ │
│                    │  │ └─────────────────────────────────┘ │ │
│                    │  │                                     │ │
│                    │  │ [💾 保存项目] [📄 导出PDF]         │ │
│                    │  └─────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 9.2 新建项目对话框

```
┌─────────────────────────────────────────────────────────────┐
│                        🆕 新建项目                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ 📝 项目名称:                                                │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 请输入项目名称...                                       │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 📁 上传文件:                                                │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                                                         │ │
│ │        📤 点击上传文件或拖拽文件到此处                   │ │
│ │                                                         │ │
│ │        支持 PDF、JPG、PNG 格式                           │ │
│ │                                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 📋 已上传文件:                                              │
│ • 📄 阿司匹林标签.pdf (2.3 MB)                    [×]      │
│ • 🖼️ 布洛芬图片.jpg (1.8 MB)                      [×]      │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 🔄 工作状态: 等待操作...                                │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ [🤖 AI解析] [📁 创建项目] [🔄 解析并创建项目]              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 10. 设计决策思维链分析

### 10.1 布局设计决策

**问题**: 如何合理安排三个主要功能区域的布局？
**分析过程**:

1. 用户主要操作流程是：选择项目 → 编辑内容 → 预览效果
2. 项目管理是入口，使用频率相对较低
3. 编辑和预览需要同时可见，便于实时对比
   **决策**: 采用左中右三栏布局，项目管理在左侧，编辑和预览并排显示

### 10.2 颜色方案决策

**问题**: 选择什么样的颜色方案？
**分析过程**:

1. 药品标签需要专业、可信赖的视觉感受
2. 蓝色系代表专业、科技、可靠
3. 需要足够的对比度确保可读性
   **决策**: 采用蓝色系主色调，配合中性灰色，确保专业性和可读性

### 10.3 响应式设计决策

**问题**: 如何在不同设备上提供一致的用户体验？
**分析过程**:

1. 桌面端需要充分利用屏幕空间
2. 移动端需要简化界面，突出核心功能
3. 平板端需要平衡功能完整性和操作便利性
   **决策**: 采用渐进式设计，桌面端三栏布局，移动端单栏布局，平板端两栏布局

---

**文档版本**: v1.0  
**最后更新**: 2025-01-13  
**下次评审**: 2025-01-20
