# 5 类清单管理功能使用说明

## 功能概述

5 类清单管理功能用于维护字段类型判断所需的关键词清单，支持对 5 种类型的关键词进行增删查改操作。

## 访问入口

1. 点击页面右上角的**设置按钮**（⚙️ 图标）
2. 在弹出的设置对话框中，点击**"5 类清单管理"**标签页

## 5 类清单说明

| 清单类型     | 英文标识         | 说明                                     | 当前数量 |
| ------------ | ---------------- | ---------------------------------------- | -------- |
| 基本信息清单 | basic_info       | 如 Protocol No.、Expiry Date 等          | 7        |
| 编号清单     | number_field     | 如 Site No.、Subject No. 等              | 5        |
| 药品名清单   | drug_name        | 如 Venetoclax、Rituximab 等              | 27       |
| 药品片数清单 | number_of_sheets | 如 Wallet contains、Number of tablets 等 | 3        |
| 公司名清单   | company_name     | 如 Beigene、Sponsor 等                   | 4        |

## 功能说明

### 1. 切换清单类型

- 在标签页栏中点击不同的清单类型即可切换
- 每个标签显示该类型当前的关键词数量

### 2. 搜索关键词

- 在搜索框中输入关键词进行实时过滤
- 搜索不区分大小写
- 显示过滤后的数量

### 3. 添加新关键词

1. 在输入框中输入新的关键词
2. 点击**"添加"**按钮或直接按**Enter 键**
3. 系统会自动验证：
   - 关键词不能为空
   - 关键词在当前分类中不能重复
4. 添加成功后，关键词会出现在列表底部

### 4. 编辑关键词

1. 将鼠标悬停在要编辑的关键词行上
2. 点击出现的**编辑按钮**（✏️ 图标）
3. 在编辑框中修改关键词
4. 点击**✓**保存或**×**取消

### 5. 删除关键词

1. 将鼠标悬停在要删除的关键词行上
2. 点击出现的**删除按钮**（🗑️ 图标）
3. 在确认对话框中点击**"确定"**完成删除

## 注意事项

1. **关键词唯一性**：每个关键词在同一分类中必须唯一
2. **大小写敏感**：关键词区分大小写，"Protocol No." 和 "protocol no." 会被视为不同的关键词
3. **冒号保留**：对于基本信息和编号清单，保留关键词末尾的冒号（:）很重要，因为这在字段类型判断规则中会用到
4. **立即生效**：所有的增删改操作都会立即保存到数据库，无需手动保存

## API 接口

如需通过 API 直接操作清单，可使用以下接口：

### 获取所有关键词

```http
GET http://localhost:3001/api/field-type-keywords
```

### 获取特定类型的关键词

```http
GET http://localhost:3001/api/field-type-keywords?field_type=drug_name
```

### 添加新关键词

```http
POST http://localhost:3001/api/field-type-keywords
Content-Type: application/json

{
  "keyword": "New Drug Name",
  "field_type": "drug_name"
}
```

### 更新关键词

```http
PUT http://localhost:3001/api/field-type-keywords/{id}
Content-Type: application/json

{
  "keyword": "Updated Drug Name"
}
```

### 删除关键词

```http
DELETE http://localhost:3001/api/field-type-keywords/{id}
```

## 数据库信息

- **表名**：`FieldTypeKeywords`
- **位置**：数据库 `labelmedix_dev`
- **初始数据**：从 `5类清单.csv` 导入的 47 条记录

## 字段类型判断规则

5 类清单将在后续的字段属性判断功能中使用，判断规则详见 `字段属性判断规则.md`。

---

**版本**：1.0  
**创建日期**：2025 年 10 月 18 日  
**维护团队**：玄鉴 AI 团队
