# LabelMedix - 药品标签管理系统

一个专业的多语言药品标签编辑和生成系统，支持 26 种国际语言，提供实时预览和智能 PDF 生成功能。

## 🌟 项目特色

- **多语言支持**：支持 26 种国际语言（从阿联酋阿拉伯语到越南语）
- **智能字体映射**：根据语言自动选择最适合的字体
- **实时预览**：所见即所得的标签编辑体验
- **动态页面计算**：根据页面序号自动调整尺寸和边距
- **现代化界面**：基于 Next.js 和 Tailwind CSS 的响应式设计

## 🚀 技术栈

### 前端

- **框架**：Next.js 14.2.16 (React 18)
- **样式**：Tailwind CSS + Radix UI
- **语言**：TypeScript
- **状态管理**：React Context API
- **PDF 处理**：pdf-lib, pdfjs-dist, jspdf

### 后端

- **运行环境**：Node.js
- **框架**：Express.js
- **数据库**：MySQL + Sequelize ORM
- **认证**：JWT + bcryptjs

## 📦 项目结构

```
LabelMedix/
├── FrontEnd/              # Next.js 前端应用
│   ├── app/               # 应用页面和组件
│   │   ├── components/    # React 组件
│   │   │   ├── LabelEditor.tsx    # 标签编辑器
│   │   │   ├── PDFPreview.tsx     # PDF预览
│   │   │   ├── ProjectList.tsx    # 项目列表
│   │   │   └── Layout.tsx         # 布局组件
│   │   └── page.tsx       # 主页面
│   ├── lib/               # 工具库
│   │   └── context/       # React Context
│   └── public/            # 静态资源
│       └── fonts/         # 字体文件
├── BackEnd/               # Express.js 后端服务
│   ├── src/               # 源代码
│   │   ├── models/        # 数据模型
│   │   ├── routes/        # API路由
│   │   └── app.js         # 应用入口
│   └── migrations/        # 数据库迁移
└── teams/                 # 团队协作文档
```

## 🛠️ 安装和运行

### 前端启动

```bash
cd FrontEnd
npm install
npm run dev
```

### 后端启动

```bash
cd BackEnd
npm install
npm run dev
```

## 🌍 支持的语言

系统支持以下 26 种语言：

- 阿联酋阿拉伯语 (AE)
- 保加利亚语 (BG)
- 中文 (CN)
- 捷克语 (CZ)
- 德语 (DE)
- 丹麦语 (DK)
- 英语 (GB)
- 希腊语 (GR)
- 印尼语 (ID)
- 希伯来语 (IL)
- 印地语 (IN)
- 意大利语 (IT)
- 日语 (JP)
- 韩语 (KR)
- 马来语 (MY)
- 荷兰语 (NL)
- 挪威语 (NO)
- 波兰语 (PL)
- 葡萄牙语 (PT)
- 罗马尼亚语 (RO)
- 塞尔维亚语 (RS)
- 俄语 (RU)
- 瑞典语 (SE)
- 泰语 (TH)
- 土耳其语 (TR)
- 越南语 (VN)

## 🎨 核心功能

### 标签编辑器

- 多语言文本编辑
- 智能字体选择
- 实时参数调整（字体大小、间距、行高）
- 页面序号选择（1-30）

### PDF 预览

- 实时预览标签效果
- 动态页面尺寸计算
- 支持多种字体渲染

### 智能字体映射

- 中文 → STHeiti
- 泰文/阿拉伯文 → Arial Unicode
- 其他语言 → Arial

### 动态页面尺寸计算规则

系统根据页面序号自动调整页面宽度和边距，确保标签在不同页面上的正确显示：

#### 页面宽度变化规则

页面宽度根据序号按以下规律变化（高度保持不变）：

| 页面序号 | 宽度调整 | 计算公式 |
| -------- | -------- | -------- |
| 1-2 页   | +0mm     | W        |
| 3-4 页   | +0.5mm   | W + 0.5  |
| 5-6 页   | -2mm     | W - 2    |
| 7-8 页   | -1.5mm   | W - 1.5  |
| 9-10 页  | -4mm     | W - 4    |
| 11-12 页 | -3.5mm   | W - 3.5  |
| 13-14 页 | -6mm     | W - 6    |
| 15-16 页 | -5.5mm   | W - 5.5  |
| 17-18 页 | -8mm     | W - 8    |
| 19-20 页 | -7.5mm   | W - 7.5  |
| 21-22 页 | -10mm    | W - 10   |
| 23-24 页 | -9.5mm   | W - 9.5  |
| 25-26 页 | -12mm    | W - 12   |
| 27-28 页 | -11.5mm  | W - 11.5 |
| 29-30 页 | -14mm    | W - 14   |
| 31-32 页 | -13.5mm  | W - 13.5 |
| 33-34 页 | -16mm    | W - 16   |
| 35-36 页 | -15.5mm  | W - 15.5 |
| 37-38 页 | -18mm    | W - 18   |
| 39-40 页 | -17.5mm  | W - 17.5 |
| 40+ 页   | -17.5mm  | W - 17.5 |

> **说明**：W 为初始页面宽度，超过 40 页的页面使用最后一个调整值

#### 页面边距规则

所有页面的边距设置如下：

- **上边距**：2mm（固定）
- **下边距**：2mm（固定）
- **左边距**：2mm（固定）
- **右边距**：
  - 第 4、8、12、16、20、24、28、32、36、40 页（每 4 页递增）：5mm
  - 其他页面：2mm

#### 裁切框（CropBox）规则

- 裁切框尺寸 = 页面尺寸 - 边距
- 裁切框左上角坐标：(2, 2)
- 所有页面的上、下、左边距均为 2mm
- 右边距按上述规则变化

## 📋 开发状态

### ✅ 已完成

- 基础项目框架
- 多语言标签编辑器
- 智能字体映射系统
- 实时预览功能
- 动态页面尺寸计算
- 响应式用户界面

### 🔄 进行中

- PDF 生成功能完善
- 复杂页面尺寸规则实现
- 导出功能优化

### ⏳ 计划中

- 用户认证系统
- 数据库集成
- 批量处理功能
- 性能优化

## 👥 开发团队

本项目由**玄鉴 AI 团队**开发：

- **Mike**：团队领航者，负责整体规划
- **Emma**：产品创意官，负责需求分析
- **Bob**：架构大师，负责系统架构
- **Alex**：代码魔法师，负责功能实现
- **David**：数据洞察者，负责数据分析
- **Lily**：质量守护者，负责质量把控

## 📄 许可证

本项目采用 MIT 许可证。

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来帮助改进项目。

---

**玄鉴编程，使命必达！**
